{"version":3,"sources":["components/searchbar/Searchbar.js","services/api/api.js","components/imagegalleryitem/ImageGalleryItem.js","components/button/Button.js","components/loader/Loader.js","components/modal/Modal.js","components/imagegallery/ImageGallery.js","App.js","index.js"],"names":["Searchbar","onSubmit","useState","image","setImage","className","e","preventDefault","trim","toast","error","type","autoComplete","autoFocus","placeholder","value","onChange","currentTarget","api","fetchImage","query","page","axios","defaults","baseURL","params","q","key","image_type","orientation","per_page","ImageGalleryItem","arcticles","toggleModal","map","id","webformatURL","largeImageURL","src","alt","onClick","Button","onClickLMore","Loading","color","height","width","timeout","modalRoot","document","querySelector","Modal","onClose","largeImage","handleKeyDown","code","useEffect","window","addEventListener","removeEventListener","createPortal","target","ImageGallery","props","setArcticles","setLargeImage","loading","setLoading","showModal","setShowModal","fetchApi","imageAPI","then","response","data","hits","concat","scrollDown","catch","console","log","dataset","largeimage","scrollTo","top","innerHeight","scrollY","behavior","length","App","setPage","searchImage","defaultPage","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.d762e4f5.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { toast } from \"react-toastify\";\n\nfunction Searchbar({ onSubmit }) {\n  const [image, setImage] = useState(\"\");\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (image.trim() === \"\") {\n      toast.error(\"Введите название\");\n      return;\n    }\n    onSubmit(image, 1);\n    setImage(\"\");\n  }\n\n  return (\n    <header className=\"Searchbar\">\n      <form className=\"SearchForm\" onSubmit={handleSubmit}>\n        <button type=\"submit\" className=\"SearchForm-button\">\n          <span className=\"SearchForm-button-label\">Search</span>\n        </button>\n        <input\n          className=\"SearchForm-input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          value={image}\n          onChange={(e) => setImage(e.currentTarget.value)}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport { Searchbar };\n","import axios from \"axios\";\n\nfunction fetchImage(query, page) {\n  axios.defaults.baseURL = \"https://pixabay.com/api\";\n  axios.defaults.params = {\n    q: query,\n    page: page,\n    key: \"8645843-73f0b565a99dd2126325d1c4b\",\n    image_type: \"photo\",\n    orientation: \"horizontal\",\n    per_page: 12,\n  };\n  return axios();\n}\n\nconst api = { fetchImage };\n\nexport default api;\n","import React from \"react\";\n\nconst ImageGalleryItem = ({ arcticles, toggleModal }) => {\n  return (\n    <>\n      {arcticles.map(({ id, webformatURL, largeImageURL }) => (\n        <li key={id} className=\"ImageGalleryItem\">\n          <img\n            className=\"ImageGalleryItem-image\"\n            src={webformatURL}\n            alt=\"\"\n            data-largeimage={largeImageURL}\n            onClick={toggleModal}\n          />\n        </li>\n      ))}\n    </>\n  );\n};\n\nexport { ImageGalleryItem };\n","import React from \"react\";\n\nconst Button = ({ onClickLMore }) => (\n  <button id=\"loadmore\" className=\"Button\" type=\"button\" onClick={onClickLMore}>\n    Load more\n  </button>\n);\n\nexport { Button };\n","import React from \"react\";\nimport Loader from \"react-loader-spinner\";\n\nconst Loading = () => (\n  <Loader\n    className=\"Loader\"\n    type=\"Puff\"\n    color=\"#00BFFF\"\n    height={100}\n    width={100}\n    timeout={3000}\n  />\n);\n\nexport { Loading };\n","import React, { useEffect } from \"react\";\nimport { createPortal } from \"react-dom\";\n\nconst modalRoot = document.querySelector(\"#modal-root\");\n\nfunction Modal({ onClose, largeImage }) {\n  useEffect(() => {\n    window.addEventListener(\"keydown\", handleKeyDown);\n    return () => window.removeEventListener(\"keydown\", handleKeyDown);\n  });\n\n  function handleKeyDown(e) {\n    if (e.code === \"Escape\") {\n      onClose();\n    }\n  }\n\n  function handleBackdropClick(e) {\n    if (e.currentTarget === e.target) onClose();\n  }\n\n  return createPortal(\n    <div className=\"Overlay\" onClick={handleBackdropClick}>\n      <div className=\"Modal\">\n        <img src={largeImage} alt=\"\" />\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n\nexport { Modal };\n","import React, { useState, useEffect } from \"react\";\nimport imageAPI from \"../../services/api/api\";\n\nimport { ImageGalleryItem } from \"../imagegalleryitem\";\nimport { Button } from \"../button\";\nimport { Loading } from \"../loader\";\nimport { Modal } from \"../modal\";\n\nfunction ImageGallery(props) {\n  const { image, page, onClickLMore } = props;\n\n  const [arcticles, setArcticles] = useState([]);\n  const [largeImage, setLargeImage] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const [showModal, setShowModal] = useState(false);\n\n  useEffect(() => fetchApi(), []);\n\n  useEffect(() => fetchApi(image), [image, page]);\n\n  function fetchApi(query = \"\") {\n    setLoading(true);\n\n    imageAPI\n      .fetchImage(query, page)\n      .then((response) => {\n        if (page === 1) {\n          setArcticles(response.data.hits);\n          setLoading(false);\n        } else {\n          setArcticles(arcticles.concat(response.data.hits));\n          setLoading(false);\n          scrollDown();\n        }\n      })\n      .catch((error) => console.log(error));\n  }\n\n  function toggleModal(e) {\n    if (!showModal) setLargeImage(e.target.dataset.largeimage);\n    setShowModal(!showModal);\n  }\n\n  function scrollDown() {\n    window.scrollTo({\n      top: window.innerHeight + window.scrollY,\n      behavior: \"smooth\",\n    });\n  }\n\n  return (\n    <>\n      {loading && <Loading />}\n      {arcticles.length > 0 ? (\n        <>\n          <ul className=\"ImageGallery\">\n            <ImageGalleryItem arcticles={arcticles} toggleModal={toggleModal} />\n          </ul>\n          <Button onClickLMore={onClickLMore} scrollDown={scrollDown} />\n        </>\n      ) : (\n        !loading && (\n          <div className=\"NothingFound\">\n            <h2>Nothing found</h2>\n          </div>\n        )\n      )}\n      {showModal && <Modal onClose={toggleModal} largeImage={largeImage} />}\n    </>\n  );\n}\n\nexport { ImageGallery };\n","import React, { useState } from \"react\";\nimport \"./App.css\";\n\nimport { Searchbar } from \"./components/searchbar\";\nimport { ImageGallery } from \"./components/imagegallery\";\n\nimport { ToastContainer } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n\nfunction App() {\n  const [image, setImage] = useState(\"\");\n  const [page, setPage] = useState(1);\n\n  function onSubmit(searchImage, defaultPage) {\n    setImage(searchImage);\n    setPage(1);\n  }\n\n  function onClickLMore() {\n    setPage(page + 1);\n  }\n\n  return (\n    <div className=\"App\">\n      <Searchbar onSubmit={onSubmit} />\n      <ImageGallery image={image} page={page} onClickLMore={onClickLMore} />\n      <ToastContainer autoClose={3000} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}