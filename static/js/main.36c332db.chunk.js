(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{24:function(e,t,a){},26:function(e,t,a){},67:function(e,t,a){"use strict";a.r(t);var c=a(0),n=a.n(c),r=a(5),o=a.n(r),s=(a(24),a(25),a(4)),i=(a(26),a(8)),l=a(1);function u(e){var t=e.onSubmit,a=Object(c.useState)(""),n=Object(s.a)(a,2),r=n[0],o=n[1];return Object(l.jsx)("header",{className:"Searchbar",children:Object(l.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):i.b.error("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435")},children:[Object(l.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(l.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(l.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){return o(e.currentTarget.value)}})]})})}var j=a(9),b=a.n(j);var m={fetchImage:function(e,t){return b.a.defaults.baseURL="https://pixabay.com/api",b.a.defaults.params={q:e,page:t,key:"8645843-73f0b565a99dd2126325d1c4b",image_type:"photo",orientation:"horizontal",per_page:12},b()()}},d=function(e){var t=e.arcticles,a=e.toggleModal;return Object(l.jsx)(l.Fragment,{children:t.map((function(e){var t=e.id,c=e.webformatURL,n=e.largeImageURL;return Object(l.jsx)("li",{className:"ImageGalleryItem",children:Object(l.jsx)("img",{className:"ImageGalleryItem-image",src:c,alt:"","data-largeimage":n,onClick:a})},t)}))})},h=function(e){var t=e.onClickLMore;return Object(l.jsx)("button",{id:"loadmore",className:"Button",type:"button",onClick:t,children:"Load more"})},g=a(19),f=a.n(g),O=function(){return Object(l.jsx)(f.a,{className:"Loader",type:"Puff",color:"#00BFFF",height:100,width:100,timeout:3e3})},p=document.querySelector("#modal-root");function x(e){var t=e.onClose,a=e.largeImage;function n(e){"Escape"===e.code&&t()}return Object(c.useEffect)((function(){return window.addEventListener("keydown",n),function(){return window.removeEventListener("keydown",n)}})),Object(r.createPortal)(Object(l.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&t()},children:Object(l.jsx)("div",{className:"Modal",children:Object(l.jsx)("img",{src:a,alt:""})})}),p)}function v(e){var t=e.image,a=e.page,n=e.onClickLMore,r=Object(c.useState)([]),o=Object(s.a)(r,2),i=o[0],u=o[1],j=Object(c.useState)(""),b=Object(s.a)(j,2),g=b[0],f=b[1],p=Object(c.useState)(!1),v=Object(s.a)(p,2),w=v[0],S=v[1],N=Object(c.useState)(!1),y=Object(s.a)(N,2),k=y[0],C=y[1];function F(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";S(!0),m.fetchImage(e,a).then((function(e){1===a?(u(e.data.hits),S(!1)):(u((function(t){return t.concat(e.data.hits)})),S(!1),L())})).catch((function(e){return console.log(e)}))}function I(e){k||f(e.target.dataset.largeimage),C(!k)}function L(){window.scrollTo({top:window.innerHeight+window.scrollY,behavior:"smooth"})}return Object(c.useEffect)((function(){return F()}),[]),Object(c.useEffect)((function(){return F(t)}),[t,a]),Object(l.jsxs)(l.Fragment,{children:[w&&Object(l.jsx)(O,{}),i.length>0?Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("ul",{className:"ImageGallery",children:Object(l.jsx)(d,{arcticles:i,toggleModal:I})}),Object(l.jsx)(h,{onClickLMore:n,scrollDown:L})]}):!w&&Object(l.jsx)("div",{className:"NothingFound",children:Object(l.jsx)("h2",{children:"Nothing found"})}),k&&Object(l.jsx)(x,{onClose:I,largeImage:g})]})}a(66);var w=function(){var e=Object(c.useState)(""),t=Object(s.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(1),o=Object(s.a)(r,2),j=o[0],b=o[1];return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(u,{onSubmit:function(e){n(e),b(1)}}),Object(l.jsx)(v,{image:a,page:j,onClickLMore:function(){b((function(e){return e+1}))}}),Object(l.jsx)(i.a,{autoClose:3e3})]})};o.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(w,{})}),document.getElementById("root"))}},[[67,1,2]]]);
//# sourceMappingURL=main.36c332db.chunk.js.map